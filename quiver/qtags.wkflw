{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"lno","value":{"type":"advancedText","tokenRanges":{},"text":"-1"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"#coding: utf-8\nimport workflow, editor, console\n\nlines = editor.get_text().split('\\n')\nok = False\nn = 0\nfor s in lines:\n\ts = s.rstrip()\n\tif (s == '---' and n > 0) or s == '':\n\t\tconsole.hud_alert('No tags YAML found', 'error')\n\t\tbreak\n\tif s.startswith('tags:'):\n\t\tworkflow.set_output(editor.get_file_contents('Quiver.qvlibrary\/tags.txt', 'dropbox'))\n\t\tworkflow.set_variable('lno', str(n))\n\t\tok = True\n\t\tbreak\n\tn += 1\n\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionCondition","parameters":{"comparisonType":1,"expression2":{"type":"advancedText","tokenRanges":{},"text":""},"expression1":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSelectFromList","parameters":{"title":"Select tags","list":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"},"showInPopover":true,"allowMultipleSelection":true}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"#coding: utf-8\nimport workflow, editor, console\n\ntags = workflow.get_input()\nlines = editor.get_text().split('\\n')\nlno = int(workflow.get_variable('lno'))\nif lno > 0:\n\tstart = 0\n\tfor j in range(lno):\n\t\tstart += len(lines[j])+1\n\tif lines[lno].startswith('tags:'):\n\t\ttags = 'tags: '+', '.join(tags.split('\\n'))\n\t\teditor.replace_text(start, start+len(lines[lno]), tags)\n\telse:\n\t\tconsole.hud_alert('Tags YAML went missing', 'error')\n\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionConditionEnd","parameters":{}}]}